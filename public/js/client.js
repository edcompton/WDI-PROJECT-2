"use strict";var googleMap=googleMap||{},google=google;googleMap.addInfoWindowForVenue=function(e,o){var n=this;google.maps.event.addListener(o,"click",function(){var a="";a+="<h3>"+e.name+"</h3>",$.get("https://app.ticketmaster.com/discovery/v2/events.json?apikey=S6Ne496thElaCfSl25nc9B3NkTEAk0o7&venueId="+e.ticketmasterId+"&size=20&classificationName=Music").done(function(e){$(e._embedded.events).each(function(e,t){console.log(t),a+="<h5>"+t.name+"</h5><p>"+t.dates.start.localDate+"</p>","undefined"!=typeof n.infoWindow&&n.infoWindow.close(),n.infoWindow=new google.maps.InfoWindow({content:a}),n.infoWindow.open(n.map,o),n.map.setCenter(o.getPosition())})})})},googleMap.createMarkerForVenue=function(e){var o=new google.maps.LatLng(e.lat,e.lng),n=new google.maps.Marker({position:o,map:this.map,animation:google.maps.Animation.DROP});googleMap.addInfoWindowForVenue(e,n)},googleMap.populateVenues=function(e){$.each(e.venues,function(e,o){setTimeout(function(){googleMap.createMarkerForVenue(o)},50*e)})},googleMap.getGigs=function(){var e;return $.ajax({url:"https://app.ticketmaster.com/discovery/v2/events.json?apikey=S6Ne496thElaCfSl25nc9B3NkTEAk0o7&venueId=KovZ9177rr7&size=20",type:"get",dataType:"json",async:!1,success:function(o){e=o}}),e},googleMap.getVenues=function(){$.get("http://localhost:3000/venues").done(this.populateVenues)},googleMap.mapSetup=function(){var e=document.getElementById("map-canvas"),o={zoom:12,center:new google.maps.LatLng(51.506178,(-.088369)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(e,o),this.getVenues()},$(googleMap.mapSetup.bind(googleMap));